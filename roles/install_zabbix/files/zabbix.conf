<VirtualHost *:80>
    ServerName zabbix.yourdomain.com.br
    ServerAdmin equipe.infraestrutura@yourdomain.com.br
    DocumentRoot /usr/share/zabbix

    Alias /zabbix /usr/share/zabbix
    ProxyTimeout 300

    <Directory "/usr/share/zabbix">
        Options FollowSymLinks
        AllowOverride None
        Require all granted

        <IfModule dir_module>
            DirectoryIndex index.php
        </IfModule>

        <IfModule !mod_php8.c>
            <FilesMatch \.(php|phar)$>
                SetHandler "proxy:unix:/var/opt/remi/php83/run/php-fpm/www.sock|fcgi://localhost"
            </FilesMatch>
        </IfModule>
    </Directory>

    <Directory "/usr/share/zabbix/conf">
        Require all denied
    </Directory>

    <Directory "/usr/share/zabbix/app">
        Require all denied
    </Directory>

    <Directory "/usr/share/zabbix/include">
        Require all denied
    </Directory>

    <Directory "/usr/share/zabbix/local">
        Require all denied
    </Directory>

    <Directory "/usr/share/zabbix/vendor">
        Require all denied
    </Directory>

    ErrorLog /var/log/httpd/zabbix.yourdomain.com.br-error.log
    CustomLog /var/log/httpd/zabbix.yourdomain.com.br-access.log combined
</VirtualHost>